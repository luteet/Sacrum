const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header"),imageBody=document.querySelectorAll(".image-body, figure");imageBody.forEach(e=>{const t=e.querySelector("img"),o=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==o.position&&(e.style.paddingTop=Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")});const getDeviceType=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};gsap.registerPlugin(ScrollTrigger,ScrollSmoother);let smoother,mm=gsap.matchMedia();function randomInteger(e,t){return e-.5+Math.random()*(t-e+1)}function getCoords(e){let t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,right:t.right+window.pageXOffset,bottom:t.bottom+window.pageYOffset,left:t.left+window.pageXOffset}}mm.add("(min-width: 992px)",()=>{ScrollTrigger.normalizeScroll(!0),smoother=ScrollSmoother.create({smooth:1.5,effects:!0});document.querySelectorAll(".anim-folder-card").forEach(e=>{smoother.effects(e,{speed:randomInteger(1.1,1.3)})}),gsap.from(".schedule__bg--wrapper",{scrollTrigger:{trigger:".schedule__bg",start:"top top",pin:!0}}),ScrollTrigger.create({trigger:".sections-wrapper__container",start:"top 40%",end:"+="+window.innerHeight/2,pin:!0})}),mm.add("(max-width: 992px)",()=>{document.querySelector(".schedule__bg").offsetHeight=document.querySelector(".schedule__bg").offsetHeight+"px",setTimeout(()=>{gsap.to(".main",{scrollTrigger:{trigger:".schedule__bg--wrapper",pin:!0,start:"top top",end:`+=${document.querySelector(".main").offsetHeight}px`}})},100)});let resizeCheck={},windowSize=0;const appendToOnTablet=document.querySelectorAll("[data-append-to]"),appendToOnTabletArray=[];function resizeCheckFunc(e,t,o){windowSize<=e&&(1==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&0!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!1,o()),windowSize>=e&&(0==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&1!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!0,t())}function resize(){html.style.setProperty("--height-header",header.offsetHeight+"px"),html.style.setProperty("--screen-height",body.offsetHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize=window.innerWidth,resizeCheckFunc(992,(function(){Array.from(appendToOnTabletArray).forEach(e=>{e.element.style.display="none",e.appendAddress.append(e.element),e.element.style.removeProperty("display")})}),(function(){Array.from(appendToOnTabletArray).forEach(e=>{e.element.style.display="none",e.parent.append(e.element),e.element.style.removeProperty("display")})}))}function Popup(e){let t=document.querySelector("body"),o=document.querySelector("html"),r="object"==typeof e&&!!e.saveHref,s=!0,i=!0;const n=function(e,i){if(s){s=!1;let n=document.querySelector(e);if(!n)return new Error(`Not found "${e}"`);n.classList.contains("popup")&&(t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),smoother&&smoother.paused(!0),r&&history.pushState("","",e),setTimeout(()=>{if(i)n.classList.add("_transition-none"),n.classList.add("_active"),s=!0;else{n.classList.add("_active"),n.addEventListener("transitionend",(function e(){s=!0,n.removeEventListener("transitionend",e)}))}},0))}},a=function(e){let s;s="string"==typeof e?document.querySelector(e):e.closest(".popup");const n=s.querySelector(".application-popup__form"),a=s.querySelector(".application-popup__submit-container .btn");n&&(i&&!n.classList.contains("_active")?(i=!1,s.classList.contains("_transition-none")&&s.classList.remove("_transition-none"),smoother&&smoother.paused(!1),setTimeout(()=>{s.classList.remove("_active"),s.addEventListener("transitionend",(function e(){const n=document.querySelectorAll(".popup._active");n.length<1&&(t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding","0px")),r&&(!function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),n[n.length-1]&&history.pushState("","","#"+n[n.length-1].getAttribute("id"))),i=!0,setTimeout(()=>{document.querySelector(".application-popup__body--main-wrapper").innerHTML="",document.querySelector(".application-popup__body").classList.remove("_loaded"),document.querySelector(".application-popup__body").classList.remove("_loaded-start")},200),s.removeEventListener("transitionend",e)}))},0)):(n.classList.remove("_active"),a.classList.remove("_disabled")))};return{open:function(e){n(e)},close:function(e){a(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let o=e.closest(".open-popup");o&&(t.preventDefault(),n(o.getAttribute("href")));let r=e.closest(".popup-close");r&&a(r)})),r){let e=new URL(window.location);e.hash&&n(e.hash,!0)}}}}appendToOnTablet.forEach(e=>{e.style.display="none",appendToOnTabletArray.push({element:e,parent:e.parentElement,appendAddress:document.querySelector(e.dataset.appendTo)})}),resize(),window.addEventListener("resize",resize),body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")});const o=t(".header__nav--list a, .scroll-btn");if(o)if(e.preventDefault(),smoother){const e=document.querySelector(o.getAttribute("href"));e&&(e.closest(".sections-wrapper")?smoother.scrollTo(getCoords(e.closest(".sections-wrapper")).top+window.innerHeight+e.offsetTop,!0):window.scrollTo({left:0,top:getCoords(e).top,behavior:"smooth"}))}else section=document.querySelector(o.getAttribute("href")),menu.forEach(e=>{e.classList.remove("_mob-menu-active")}),section?(section.closest(".sections-wrapper")?window.scrollTo({left:0,top:getCoords(section.closest(".sections-wrapper")).top+window.innerHeight+section.offsetTop,behavior:"smooth"}):section.closest(".schedule")&&window.scrollTo({left:0,top:getCoords(section).top,behavior:"smooth"}),ScrollTrigger.refresh(!0)):(window.scrollTo({left:0,top:0,behavior:"smooth"}),ScrollTrigger.refresh(!0));const r=t(".header__lang--target");r&&"desktop"!=getDeviceType()?r.classList.toggle("_active"):!t(".header__lang")&&document.querySelector(".header__lang--target._active")&&document.querySelector(".header__lang--target._active").classList.remove("_active");const s=t(".faq__item");if(s){s.classList.toggle("_active");const e=s.querySelector(".faq__item--answear");s.classList.contains("_active")?gsap.fromTo(e,{height:0,ease:"circ.out"},{height:"auto",ease:"power4.out",onComplete:function(e){windowSize>=992&&ScrollTrigger.refresh()}}):gsap.to(e,{height:0,ease:"power4.out",onComplete:function(e){windowSize>=992&&(ScrollTrigger.refresh(),smoother&&1==smoother.scrollTrigger.progress&&smoother.scrollTo(smoother.scrollTrigger.end-1))}})}const i=t(".header__lang");i&&(i.classList.toggle("_active"),i.classList.contains("_active")?setTimeout(()=>{window.location.href=i.dataset["lang-1"]},200):setTimeout(()=>{window.location.href=i.dataset["lang-2"]},200));const n=t(".application-popup__submit-container .btn");if(n){n.closest(".popup").querySelector(".application-popup__form").classList.toggle("_active"),n.classList.toggle("_disabled"),n.closest(".popup").querySelector(".popup-body").scrollTo({left:0,top:0,behavior:"smooth"})}}));const popup=new Popup;function validatePhoneNumber(e){return/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/.test(e)}function validateEmail(e){return/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e)}function validateName(e){return/\d/.test(e)}popup.init();const telInputs=document.querySelectorAll('input[type="tel"]');telInputs.forEach(e=>{const t=e.closest("label");e.addEventListener("blur",(function(e){""!=e.target.value?validatePhoneNumber(e.target.value)?(t.classList.add("valid"),t.classList.remove("error")):(t.classList.add("error"),t.classList.remove("valid")):(t.classList.remove("error"),t.classList.add("error"))}))});const emailInputs=document.querySelectorAll('input[type="email"]');emailInputs.forEach(e=>{const t=e.closest("label");e.addEventListener("blur",(function(e){""!=e.target.value?validateEmail(e.target.value)?(t.classList.add("valid"),t.classList.remove("error")):(t.classList.add("error"),t.classList.remove("valid")):(t.classList.remove("error"),t.classList.add("error"))}))});const nameInputs=document.querySelectorAll('input[name="your-name"]');nameInputs.forEach(e=>{const t=e.closest("label");e.addEventListener("blur",(function(e){""!=e.target.value?validateName(e.target.value)?(t.classList.add("error"),t.classList.remove("valid")):(t.classList.add("valid"),t.classList.remove("error")):(t.classList.remove("error"),t.classList.add("error"))}))});const preloader=document.querySelector(".preloader"),heroBg=document.querySelector(".hero__bg");document.addEventListener("DOMContentLoaded",(function(e){setTimeout(()=>{if(heroBg){const e=heroBg.querySelector(".hero__bg--video");e&&e.load()}preloader.classList.add("_loading")},200)})),window.addEventListener("load",(function(e){setTimeout(()=>{if(heroBg){const e=heroBg.querySelector(".hero__bg--video");e&&(e.autoplay=!0,e.play(),heroBg.classList.add("_loaded"))}},0),setTimeout(()=>{preloader.classList.add("_loaded"),windowSize>=992&&ScrollTrigger.refresh(),setTimeout(()=>{preloader.remove()},1500)},1300)}));