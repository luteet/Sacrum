const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),burger=document.querySelector(".header__burger"),header=document.querySelector(".header"),imageBody=document.querySelectorAll(".image-body, figure");imageBody.forEach(e=>{const t=e.querySelector("img"),o=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==o.position&&(e.style.paddingTop=Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")});const getDeviceType=()=>{const e=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(e)?"tablet":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};gsap.registerPlugin(ScrollTrigger,ScrollSmoother);let smoother,mm=gsap.matchMedia();mm.add("(min-width: 992px)",()=>{ScrollTrigger.normalizeScroll(!0),smoother=ScrollSmoother.create({smooth:1.5,effects:!0})}),mm.add("(min-width: 992px)",()=>{ScrollTrigger.normalizeScroll(!0),smoother=ScrollSmoother.create({smooth:1.5,effects:!0});document.querySelectorAll(".anim-folder-card").forEach(e=>{gsap.set(e,{filter:"blur(10px)"}),gsap.to(e,{scrollTrigger:{trigger:e,scrub:!0,start:"top 80%",end:"bottom bottom"},filter:"blur(0px)"})}),gsap.from(".schedule__bg--image, .schedule__bg .noise-decor",{scrollTrigger:{trigger:".schedule__bg--wrapper",scrub:!0,start:"top bottom",end:"bottom -20%"},y:"400px",duration:2}),ScrollTrigger.create({trigger:".schedule__bg",start:"top top",pin:!0})});let resizeCheck={},windowSize=0;const appendToOnTablet=document.querySelectorAll("[data-append-to]"),appendToOnTabletArray=[];function resizeCheckFunc(e,t,o){windowSize<=e&&(1==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&0!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!1,o()),windowSize>=e&&(0==resizeCheck[String(e)]||null==resizeCheck[String(e)])&&1!=resizeCheck[String(e)]&&(resizeCheck[String(e)]=!0,t())}function resize(){html.style.setProperty("--height-header",header.offsetHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize=window.innerWidth,resizeCheckFunc(992,(function(){Array.from(appendToOnTabletArray).forEach(e=>{e.element.style.display="none",e.appendAddress.append(e.element),e.element.style.removeProperty("display")})}),(function(){Array.from(appendToOnTabletArray).forEach(e=>{e.element.style.display="none",e.parent.append(e.element),e.element.style.removeProperty("display")})}))}appendToOnTablet.forEach(e=>{e.style.display="none",appendToOnTabletArray.push({element:e,parent:e.parentElement,appendAddress:document.querySelector(e.dataset.appendTo)})}),resize(),window.addEventListener("resize",resize),body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("_mob-menu-active")});const o=t(".header__nav--list a, .scroll-btn");if(o)if(e.preventDefault(),smoother){const e=document.querySelector(o.getAttribute("href"));smoother.scrollTo(e,!0)}else section=document.querySelector(o.getAttribute("href")),menu.forEach(e=>{e.classList.remove("_mob-menu-active")}),section?section.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}):body.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"});const r=t(".header__lang--target");r&&"desktop"!=getDeviceType()?r.classList.toggle("_active"):!t(".header__lang")&&document.querySelector(".header__lang--target._active")&&document.querySelector(".header__lang--target._active").classList.remove("_active");const i=t(".faq__item--btn");if(i){i.classList.toggle("_active");const e=i.closest(".faq__item").querySelector(".faq__item--answear");i.classList.contains("_active")?gsap.fromTo(e,{height:0,ease:"circ.out"},{height:"auto",ease:"power4.out",onComplete:function(e){windowSize>=992&&ScrollTrigger.refresh()}}):gsap.to(e,{height:0,ease:"power4.out",onComplete:function(e){windowSize>=992&&(ScrollTrigger.refresh(),smoother&&1==smoother.scrollTrigger.progress&&smoother.scrollTo(smoother.scrollTrigger.end-1))}})}const n=t(".header__lang--switch");if(n){const e=n.closest(".header__lang");e.classList.toggle("_active"),e.classList.contains("_active")?setTimeout(()=>{window.location.href=e.dataset["lang-1"]},200):setTimeout(()=>{window.location.href=e.dataset["lang-2"]},200)}const s=t(".application-popup__submit-container .btn");if(s){s.closest(".popup").querySelector(".application-popup__form").classList.toggle("_active"),s.classList.toggle("_disabled")}}));const heroBg=document.querySelector(".hero__bg");if(heroBg){const e=heroBg.querySelector(".hero__bg--video");e&&(e.load(),e.addEventListener("loadeddata",(function(t){setTimeout(()=>{e.autoplay=!0,e.play(),heroBg.classList.add("_loaded")},0)})))}function Popup(e){let t=document.querySelector("body"),o=document.querySelector("html"),r="object"==typeof e&&!!e.saveHref,i=!0,n=!0;const s=function(e,n){if(i){i=!1;let s=document.querySelector(e);if(!s)return new Error(`Not found "${e}"`);s.classList.contains("popup")&&(t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding",window.innerWidth-t.offsetWidth+"px"),t.classList.add("_popup-active"),smoother&&smoother.paused(!0),r&&history.pushState("","",e),setTimeout(()=>{if(n)s.classList.add("_transition-none"),s.classList.add("_active"),i=!0;else{s.classList.add("_active"),s.addEventListener("transitionend",(function e(){i=!0,s.removeEventListener("transitionend",e)}))}},0))}},a=function(e){let i;i="string"==typeof e?document.querySelector(e):e.closest(".popup");const s=i.querySelector(".application-popup__form"),a=i.querySelector(".application-popup__submit-container .btn");s&&(n&&!s.classList.contains("_active")?(n=!1,i.classList.contains("_transition-none")&&i.classList.remove("_transition-none"),smoother&&smoother.paused(!1),setTimeout(()=>{i.classList.remove("_active"),i.addEventListener("transitionend",(function e(){const s=document.querySelectorAll(".popup._active");s.length<1&&(t.classList.remove("_popup-active"),o.style.setProperty("--popup-padding","0px")),r&&(!function(){let e=window.location.toString();if(e.indexOf("#")>0){let t=e.substring(0,e.indexOf("#"));window.history.replaceState({},document.title,t)}}(),s[s.length-1]&&history.pushState("","","#"+s[s.length-1].getAttribute("id"))),n=!0,i.removeEventListener("transitionend",e)}))},0)):(s.classList.remove("_active"),a.classList.remove("_disabled")))};return{open:function(e){s(e)},close:function(e){a(e)},init:function(){let e;if(t.addEventListener("click",(function(t){e=t.target;let o=e.closest(".open-popup");o&&(t.preventDefault(),s(o.getAttribute("href")));let r=e.closest(".popup-close");r&&a(r)})),r){let e=new URL(window.location);e.hash&&s(e.hash,!0)}}}}const popup=new Popup;popup.init();const preloader=document.querySelector(".preloader");document.addEventListener("DOMContentLoaded",(function(e){setTimeout(()=>{preloader.classList.add("_loading")},200)})),window.addEventListener("load",(function(e){setTimeout(()=>{preloader.classList.remove("_loading"),preloader.classList.add("_loaded")},1e3)}));